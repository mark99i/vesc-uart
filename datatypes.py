from enum import Enum

class COMM_Types(Enum):
    COMM_FW_VERSION = 0
    COMM_JUMP_TO_BOOTLOADER = 1
    COMM_ERASE_NEW_APP = 2
    COMM_WRITE_NEW_APP_DATA = 3
    COMM_GET_VALUES = 4
    COMM_SET_DUTY = 5
    COMM_SET_CURRENT = 6
    COMM_SET_CURRENT_BRAKE = 7
    COMM_SET_RPM = 8
    COMM_SET_POS = 9
    COMM_SET_HANDBRAKE = 10
    COMM_SET_DETECT = 11
    COMM_SET_SERVO_POS = 12
    COMM_SET_MCCONF = 13
    COMM_GET_MCCONF = 14
    COMM_GET_MCCONF_DEFAULT = 15
    COMM_SET_APPCONF = 16
    COMM_GET_APPCONF = 17
    COMM_GET_APPCONF_DEFAULT = 18
    COMM_SAMPLE_PRINT = 19
    COMM_TERMINAL_CMD = 20
    COMM_PRINT = 21
    COMM_ROTOR_POSITION = 22
    COMM_EXPERIMENT_SAMPLE = 23
    COMM_DETECT_MOTOR_PARAM = 24
    COMM_DETECT_MOTOR_R_L = 25
    COMM_DETECT_MOTOR_FLUX_LINKAGE = 26
    COMM_DETECT_ENCODER = 27
    COMM_DETECT_HALL_FOC = 28
    COMM_REBOOT = 29
    COMM_ALIVE = 30
    COMM_GET_DECODED_PPM = 31
    COMM_GET_DECODED_ADC = 32
    COMM_GET_DECODED_CHUK = 33
    COMM_FORWARD_CAN = 34
    COMM_SET_CHUCK_DATA = 35
    COMM_CUSTOM_APP_DATA = 36
    COMM_NRF_START_PAIRING = 37
    COMM_GPD_SET_FSW = 38
    COMM_GPD_BUFFER_NOTIFY = 39
    COMM_GPD_BUFFER_SIZE_LEFT = 40
    COMM_GPD_FILL_BUFFER = 41
    COMM_GPD_OUTPUT_SAMPLE = 42
    COMM_GPD_SET_MODE = 43
    COMM_GPD_FILL_BUFFER_INT8 = 44
    COMM_GPD_FILL_BUFFER_INT16 = 45
    COMM_GPD_SET_BUFFER_INT_SCALE = 46
    COMM_GET_VALUES_SETUP = 47
    COMM_SET_MCCONF_TEMP = 48
    COMM_SET_MCCONF_TEMP_SETUP = 49
    COMM_GET_VALUES_SELECTIVE = 50
    COMM_GET_VALUES_SETUP_SELECTIVE = 51
    COMM_EXT_NRF_PRESENT = 52
    COMM_EXT_NRF_ESB_SET_CH_ADDR = 53
    COMM_EXT_NRF_ESB_SEND_DATA = 54
    COMM_EXT_NRF_ESB_RX_DATA = 55
    COMM_EXT_NRF_SET_ENABLED = 56
    COMM_DETECT_MOTOR_FLUX_LINKAGE_OPENLOOP = 57
    COMM_DETECT_APPLY_ALL_FOC = 58
    COMM_JUMP_TO_BOOTLOADER_ALL_CAN = 59
    COMM_ERASE_NEW_APP_ALL_CAN = 60
    COMM_WRITE_NEW_APP_DATA_ALL_CAN = 61
    COMM_PING_CAN = 62
    COMM_APP_DISABLE_OUTPUT = 63
    COMM_TERMINAL_CMD_SYNC = 64
    COMM_GET_IMU_DATA = 65
    COMM_BM_CONNECT = 66
    COMM_BM_ERASE_FLASH_ALL = 67
    COMM_BM_WRITE_FLASH = 68
    COMM_BM_REBOOT = 69
    COMM_BM_DISCONNECT = 70
    COMM_BM_MAP_PINS_DEFAULT = 71
    COMM_BM_MAP_PINS_NRF5X = 72
    COMM_ERASE_BOOTLOADER = 73
    COMM_ERASE_BOOTLOADER_ALL_CAN = 74
    COMM_PLOT_INIT = 75
    COMM_PLOT_DATA = 76
    COMM_PLOT_ADD_GRAPH = 77
    COMM_PLOT_SET_GRAPH = 78
    COMM_GET_DECODED_BALANCE = 79
    COMM_BM_MEM_READ = 80
    COMM_WRITE_NEW_APP_DATA_LZO = 81
    COMM_WRITE_NEW_APP_DATA_ALL_CAN_LZO = 82
    COMM_BM_WRITE_FLASH_LZO = 83
    COMM_SET_CURRENT_REL = 84
    COMM_CAN_FWD_FRAME = 85
    COMM_SET_BATTERY_CUT = 86
    COMM_SET_BLE_NAME = 87
    COMM_SET_BLE_PIN = 88
    COMM_SET_CAN_MODE = 89
    COMM_GET_IMU_CALIBRATION = 90
    COMM_GET_MCCONF_TEMP = 91

    # Custom configuration for hardware
    COMM_GET_CUSTOM_CONFIG_XML = 92
    COMM_GET_CUSTOM_CONFIG = 93
    COMM_GET_CUSTOM_CONFIG_DEFAULT = 94
    COMM_SET_CUSTOM_CONFIG = 95

    # BMS commands
    COMM_BMS_GET_VALUES = 96
    COMM_BMS_SET_CHARGE_ALLOWED = 97
    COMM_BMS_SET_BALANCE_OVERRIDE = 98
    COMM_BMS_RESET_COUNTERS = 99
    COMM_BMS_FORCE_BALANCE = 100
    COMM_BMS_ZERO_CURRENT_OFFSET = 101

    # FW updates commands for different HW types
    COMM_JUMP_TO_BOOTLOADER_HW = 102
    COMM_ERASE_NEW_APP_HW = 103
    COMM_WRITE_NEW_APP_DATA_HW = 104
    COMM_ERASE_BOOTLOADER_HW = 105
    COMM_JUMP_TO_BOOTLOADER_ALL_CAN_HW = 106
    COMM_ERASE_NEW_APP_ALL_CAN_HW = 107
    COMM_WRITE_NEW_APP_DATA_ALL_CAN_HW = 108
    COMM_ERASE_BOOTLOADER_ALL_CAN_HW = 109

    COMM_SET_ODOMETER = 110

class FAULT_Codes(Enum):
    FAULT_CODE_NONE = 0
    FAULT_CODE_OVER_VOLTAGE = 1
    FAULT_CODE_UNDER_VOLTAGE = 2
    FAULT_CODE_DRV = 3
    FAULT_CODE_ABS_OVER_CURRENT = 4
    FAULT_CODE_OVER_TEMP_FET = 5
    FAULT_CODE_OVER_TEMP_MOTOR = 6
    FAULT_CODE_GATE_DRIVER_OVER_VOLTAGE = 7
    FAULT_CODE_GATE_DRIVER_UNDER_VOLTAGE = 8
    FAULT_CODE_MCU_UNDER_VOLTAGE = 9
    FAULT_CODE_BOOTING_FROM_WATCHDOG_RESET = 10
    FAULT_CODE_ENCODER_SPI = 11
    FAULT_CODE_ENCODER_SINCOS_BELOW_MIN_AMPLITUDE = 12
    FAULT_CODE_ENCODER_SINCOS_ABOVE_MAX_AMPLITUDE = 13
    FAULT_CODE_FLASH_CORRUPTION = 14
    FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_1 = 15
    FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_2 = 16
    FAULT_CODE_HIGH_OFFSET_CURRENT_SENSOR_3 = 17
    FAULT_CODE_UNBALANCED_CURRENTS = 18
    FAULT_CODE_BRK = 19
    FAULT_CODE_RESOLVER_LOT = 20
    FAULT_CODE_RESOLVER_DOS = 21
    FAULT_CODE_RESOLVER_LOS = 22
    FAULT_CODE_FLASH_CORRUPTION_APP_CFG = 23
    FAULT_CODE_FLASH_CORRUPTION_MC_CFG = 24
    FAULT_CODE_ENCODER_NO_MAGNET = 25

class COM_States(Enum):
    idle = 0
    connected = 1
    connect_err = 2